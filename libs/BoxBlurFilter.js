this.createjs=this.createjs||{},function(){var e=function(e,t,n){this.initialize(e,t,n)},t=e.prototype=new createjs.Filter;t.initialize=function(e,t,n){if(isNaN(e)||e<0)e=0;this.blurX=e|0;if(isNaN(t)||t<0)t=0;this.blurY=t|0;if(isNaN(n)||n<1)n=1;this.quality=n|0},t.blurX=0,t.blurY=0,t.quality=1,t.getBounds=function(){return new createjs.Rectangle(-this.blurX,-this.blurY,2*this.blurX,2*this.blurY)},t.applyFilter=function(e,t,n,r,i,s,o,u){s=s||e,o==null&&(o=t),u==null&&(u=n);try{var a=e.getImageData(t,n,r,i)}catch(f){return!1}var l=this.blurX;if(isNaN(l)||l<0)return!1;l|=0;var c=this.blurY;if(isNaN(c)||c<0)return!1;c|=0;if(l==0&&c==0)return!1;var h=this.quality;if(isNaN(h)||h<1)h=1;h|=0,h>3&&(h=3),h<1&&(h=1);var p=a.data,d,v,m,g,t,n,y,b,w,E,S,x,T,N=r-1,C=i-1,k=l+1,L=l+k,A=c+1,O=c+A,M=1/(L*O),_=[],D=[],P=[],H=[],B=[],j=[];while(h-->0){T=x=0;for(n=0;n<i;n++){d=p[T]*k,v=p[T+1]*k,m=p[T+2]*k,g=p[T+3]*k;for(y=1;y<=l;y++)b=T+((y>N?N:y)<<2),d+=p[b++],v+=p[b++],m+=p[b++],g+=p[b];for(t=0;t<r;t++)_[x]=d,D[x]=v,P[x]=m,H[x]=g,n==0&&(B[t]=Math.min(t+k,N)<<2,j[t]=Math.max(t-l,0)<<2),w=T+B[t],E=T+j[t],d+=p[w++]-p[E++],v+=p[w++]-p[E++],m+=p[w++]-p[E++],g+=p[w]-p[E],x++;T+=r<<2}for(t=0;t<r;t++){S=t,d=_[S]*A,v=D[S]*A,m=P[S]*A,g=H[S]*A;for(y=1;y<=c;y++)S+=y>C?0:r,d+=_[S],v+=D[S],m+=P[S],g+=H[S];x=t<<2;for(n=0;n<i;n++)p[x]=d*M+.5|0,p[x+1]=v*M+.5|0,p[x+2]=m*M+.5|0,p[x+3]=g*M+.5|0,t==0&&(B[n]=Math.min(n+A,C)*r,j[n]=Math.max(n-c,0)*r),w=t+B[n],E=t+j[n],d+=_[w]-_[E],v+=D[w]-D[E],m+=P[w]-P[E],g+=H[w]-H[E],x+=r<<2}}return s.putImageData(a,o,u),!0},t.clone=function(){return new e(this.blurX,this.blurY,this.quality)},t.toString=function(){return"[BoxBlurFilter]"},createjs.BoxBlurFilter=e}();